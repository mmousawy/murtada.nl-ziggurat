.page-section:not(.page-section--inverted) .content-row {
  &:nth-of-type(odd) {
    @include bp(min-small) {
      background-color: lighten(get('colors.primary'), 30%);
    }
  }
}

.content-row .wrap {
  display: flex;

  @include bp(min-small) {
    padding: calc(1rem + 1vw) 1rem;
  }

  @include bp(max-small) {
    padding-top: 0;

    > .content-row__text {
      z-index: 2;
      order: 1;
    }
  }

  .button {
    display: inline-block;
    font-size: 1.35rem;
    z-index: 2;

    @include bp(max-small) {
      font-size: 1.15rem;
    }
  }

  @include bp(max-small) {
    flex-direction: column;
  }
}

.content-row .wrap--vertical {
  display: flex;
  flex-direction: column;
}

.content-row__text,
.content-row__transparent {
  h2:first-child {
    text-align: left;
    margin: 0;
    max-width: unset;
  }

  &--centered {
    width: 100%;
    display: flex;
    max-width: unset;
    align-items: center;
    justify-content: center;
  }

  &--column {
    flex-direction: column;
  }

  .content-row--end & {
    margin-top: 0;

    @include bp(max-small) {
      padding-bottom: 1rem;
    }
  }
}

.content-row__text {
  align-self: center;
  width: 100%;
  max-width: calc(80% - 4rem);
  margin-top: 0;
  margin-bottom: 0;
  margin-right: calc(1rem + 2vw);
  font-size: 1.315rem;
  line-height: 1.5;
  color: lighten(get('colors.text.body'), 10%);

  h3 {
    font-size: get('fonts.heading.size-h2');
    margin: 0;

    @include bp(max-small) {
      font-size: get('fonts.heading.size-h2') * .75;
    }
  }

  p {
    &:first-of-type {
      margin-top: .5em;
    }

    &:last-child {
      margin-bottom: 0;
    }
  }

  @include bp(max-small) {
    max-width: 100%;
    margin: {
      top: -4rem;
      left: auto;
      right: auto;
    }
    padding: 4vw 5vw 5vw;
    font-size: 1.125rem;

    @at-root .page-section:not(.page-section--inverted) & {
      background-color: get('colors.white');
    }

    @at-root .page-section.page-section--inverted & {
      background-color: desaturate(darken(get('colors.primary'), 50%), 50%);
    }

    + picture {
      order: 0;
    }
  }
}

.picture-wrapper {
  position: relative;
  display: block;
  float: left;
  width: 100%;
  // background: desaturate(lighten(get('colors.primary'), 20%), 40%);

  picture {
    display: block;
    opacity: 1;
    transform: translateY(0);
    transition: {
      property: transform, opacity;
      duration: 400ms;
    };

    &.lazy {
      transform: translateY(1rem);
      opacity: 0;
    }
  }

  img,
  source {
    position: absolute;
    top: 0;
    left: 0;
  }

  &--highlight {
    margin-bottom: 3rem;
  }
}

img {
  width: 100%;
  height: auto;
}

.align-left {
  max-width: 33%;

  &--outside {
    max-width: 66%;
    margin-left: -33%;
  }

  &--small {
    max-width: 40%;
    margin-left: -20%;
  }

  + .content-row__text {
    margin-right: 0;
  }

  @include bp(min-small) {
    + .content-row__text {
      margin-left: calc(1rem + 2vw);
      margin-right: 0;
    }
  }
}

.align-right {
  max-width: 33%;
  order: 1;

  &--outside {
    max-width: 66%;
    margin-right: -33%;
  }

  &--small {
    max-width: 40%;
    margin-right: -20%;
  }
}

.align-left,
.align-right {
  @include bp(max-small) {
    width: 100vw;
    max-width: 100vw;
    margin: {
      left: -1rem;
      right: 0;
    }
  }
}

.highlight-text {
  font-size: 1.5rem;
  margin-bottom: 3rem;

  @include bp(max-small) {
     font-size: 1.25rem;
  }
}
